HOWTO
08.04.2014, Jonathan Sonntag, Andreas Peldszus


*** Java 1.7 JDK (z.B. openjdk) installieren
sudo apt-get install java-7-openjdk-amd64
- zur Not das richtige Java systemweit auswählen, z.b. durch 
  sudo update-java-alternatives -s java-7-openjdk-amd64

*** Maven installieren
sudo apt-get install maven

*** TOMCAT 7 installieren
sudo apt-get install tomcat7 tomcat7-admin 
# richtiges JDK für Tomcat einstellen
sudo gedit /etc/default/tomcat7 -> JAVA_HOME setzen
sudo service tomcat7 start

*** GRAPAT clonen und kompilieren
git clone git@hebe:/grapat

- mvn clean install
- war-datei per hand deployen (rüberkopieren in webapps und warten)
/var/lib/tomcat7/webapps


*** MYSQL Server 
sudo apt-get install mysql-server

mysql -u root -p

# komische anonyme sql user löschen, weil man sich sonst mit dem neu anzulegenden benutzer nicht richtig authentifizieren kann
DELETE FROM mysql.user WHERE User = '';
FLUSH PRIVILEGES;

# grapat benutzer erzeugen
CREATE USER grapat_user_auth;
SET PASSWORD FOR 'grapat_user_auth'@'localhost' = PASSWORD('supersecret');
GRANT ALL PRIVILEGES ON grapat.* TO 'grapat_user_auth'@'localhost' WITH GRANT OPTION;

# Datenbank anlegen
CREATE DATABASE grapat;
USE grapat;
CREATE TABLE `users` (
  `id` int(32) NOT NULL AUTO_INCREMENT,
  `FirstName` varchar(128) DEFAULT NULL,
  `LastName` varchar(128) DEFAULT NULL,
  `UserName` varchar(128) DEFAULT NULL,
  `Password` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
show tables;

# Grapat Interface account anlegen
INSERT INTO users (FirstName,LastName,Username,Password) VALUES('Vorname','Nachname','username','password');

# losannotieren
http://localhost:8080/grapat/GraPAT
